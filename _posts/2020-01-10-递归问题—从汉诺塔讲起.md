---
layout:     post                    # 使用的布局（不需要改）
title:      递归问题—从汉诺塔讲起     # 标题 
subtitle:   递归与汉诺塔             #副标题
date:       2020-01-10              # 时间
author:     Not Two                 # 作者
header-img: img/HanoiTower.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 数学
    - 计算
---

## 递归问题—从汉诺塔讲起

### 什么是递归

[递归](https://wapbaike.baidu.com/item/%E9%80%92%E5%BD%92?adapt=1&fr=aladdin)就是在运行的过程中自己调用自己。

构成一个递归需要满足两个条件：

* 不能无限制地调用本身，须有个出口，化简为非递归状况处理；
* 子问题须与原始问题相同，且更加简单（接近出口）。

举个例子：
```C
int fact(int n){
  //n为正整数
  if(n==1)
    return 1;
  else
    return n*fact(n-1);
}
```
以上求正整数n的阶乘的这段代码满足递归的两个条件：①出口：n等于1的情况直接返回1，是递归的出口；
②子问题更加简单：子问题的参数变为n-1，向着出口进了一步。

可以将上述递归求解n的阶乘的策略概括为“减而治之”，子问题的规模相比原问题减一。另外还有一种常用的策略叫做“分而治之”，这里一并介绍。

加入需要求解n^m^（n为整数，m为正整数），可有如下代码：

```C
int pow(int n, int m){
  //n为整数，m为正整数
  if(m==1)
    return n;
  else if(m%2 == 0)
    return pow(n,m/2)*pow(n,m/2);
  else
    return m*pow(n,m/2)*pow(n,m/2);
}
```
这里子问题n^m/2^的规模变成了原问题的一半。

### 汉诺塔问题

[汉诺塔](https://baike.baidu.com/item/%E6%B1%89%E8%AF%BA%E5%A1%94/3468295?fr=aladdin)问题是源于印度一个古老传说的益智玩具。
大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。
大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。
并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。

在三根柱子间移动一个盘片算一次操作，那么完成上述任务需要多少次操作呢？
我们将三根柱子编号A、B和C。将64个盘片从A柱移至C柱可分为以下三个步骤：

* step1:将上面63个盘片从A柱移至B柱；
* step2:将最后一片从A柱移至C柱；
* step3:将B柱上的63个盘片移至C柱。

有没有想起如何将大象塞进冰箱这个问题？他们有相似之处，都是一样的简单暴力。
上述三步处理没有多余，完成移动至少需要这三步操作。不失一般性，我们设移动n个盘片需要$$A_{n}$$次操作，
则$$A_{n}=A_{n-1}+1+A_{n-1}$$。（step1需要$$A_{n-1}$$次操作，step2需要1次操作，step3需要$$A_{n-1}$$次。）

另外，我们还需要一个递归出口，显然：$$A_{1}=1$$。

为了进一步$$A_{n}$$的表达式，我们不妨取n=1:5计算相应值，观察规律：

| n      | $$A_{n}$$              |
|--------|------------------------|
| 1      | $$1=(1)_{2}$$          |
| 2      | $$3=(11)_{2}$$         |
| 3      | $$7=(111)_{2}$$        |
| 4      | $$15=(1111)_{2}$$      |
| 5      | $$31=(11111)_{2}$$     |



根据以上数值猜测：A~n~=2^n^-1。我们用数学归纳法证明其正确性：


* 当n=1时显然正确；

* 假设当n=k时有A~k-1~=2^k-1^-1成立；

* 当n=k+1时，A~k+1~=2*A~k~+1=2*(2^k-1^-1)+1=2^k^-1,成立。

> 故上述猜测正确，证毕。





### 汉诺塔问题的几个变种
